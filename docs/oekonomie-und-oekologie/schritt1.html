<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auftrag 1: Rollenspiel</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .lesson-header {
            background: linear-gradient(135deg, #2e7d32 0%, #1b5e20 100%);
            color: white;
            padding: 40px;
            border-radius: 20px 20px 0 0;
        }

        .lesson-header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .lesson-content {
            padding: 40px;
            line-height: 1.8;
        }

        .lesson-content h2 {
            color: #2e7d32;
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .lesson-content p {
            margin-bottom: 15px;
        }

        .lesson-content ul {
            margin: 15px 0 15px 30px;
        }

        .lesson-content li {
            margin-bottom: 10px;
        }

        .question-italic {
            font-style: italic;
            font-weight: bold;
            color: #1b5e20;
            margin: 25px 0;
            padding-left: 20px;
            border-left: 4px solid #2e7d32;
        }

        .assignment-section {
            margin: 30px 0;
        }

        .stakeholder-list {
            background: #e8f5e9;
            border: 2px solid #2e7d32;
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }

        .stakeholder-list h3 {
            color: #1b5e20;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .stakeholder-list ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        .stakeholder-list li {
            background: white;
            padding: 12px 20px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }

        .stakeholder-list li a {
            color: #1b5e20;
            text-decoration: none;
            font-weight: 500;
            display: block;
            transition: color 0.2s;
        }

        .stakeholder-list li a:hover {
            color: #4CAF50;
            text-decoration: underline;
        }

        .portfolio-box {
            background: #e8f5e9;
            border: 3px solid #2e7d32;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .portfolio-box h3 {
            color: #1b5e20;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .portfolio-box textarea {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 2px solid #c8e6c9;
            border-radius: 10px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: 1em;
            resize: vertical;
            margin-bottom: 15px;
        }

        .portfolio-box textarea:focus {
            outline: none;
            border-color: #2e7d32;
            box-shadow: 0 0 10px rgba(46, 125, 50, 0.2);
        }

        .saved-indicator {
            color: #4CAF50;
            font-weight: bold;
            display: none;
            margin-top: 10px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }

        button:hover {
            transform: scale(1.05);
        }

        .btn-back {
            background: #f5f5f5;
            color: #333;
        }

        .btn-complete {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .btn-pdf {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
        }

        @media (max-width: 768px) {
            .lesson-header h1 {
                font-size: 1.8em;
            }

            .lesson-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="lesson-header">
            <h1>üé≠ Auftrag 1: Rollenspiel</h1>
            <p>Fleischkonsum aus verschiedenen Perspektiven</p>
        </div>

        <div class="lesson-content">
            <div class="assignment-section">
                <p>
                    Fleisch z√§hlt seit jeher als Grundbestandteil unserer Ern√§hrung. Verschiedene Menschengruppen entscheiden sich heute aber aus unterschiedlichen Gr√ºnden, auf den Fleischkonsum zu verzichten. Im Folgenden besch√§ftigen Sie sich mit der Frage:
                </p>
                
                <p class="question-italic">
                    D√ºrfen wir angesichts der Probleme mit der globalen Fleischproduktion (Massentierhaltung/Tierwohl und √∂kologische Folgen) noch Fleisch essen?
                </p>

                <p>
                    Sie erhalten eine Rolle zugeteilt, aus deren Perspektive Sie sich ins Thema reindenken. Die einzelnen Stakeholder (= die betroffenen Personen und Personengruppen) haben gute Argumente F√úR oder GEGEN den Fleischkonsum.
                </p>
            </div>

            <h2>üìã Ihr Auftrag:</h2>
            <p>
                Informieren Sie sich √ºber den zugeteilten Stakeholder und notieren Sie Argumente aus Sicht dieses Stakeholders F√úR oder GEGEN den Fleischkonsum aufgrund dessen, was Sie auf den offiziellen Websites zu den Stakeholder lesen und/ oder was Sie selbst denken. Halten Sie sich an das Muster <strong>B-B-B (Behauptung, Begr√ºndung, Beleg)</strong>.
            </p>

            <p style="margin-top: 25px;"><strong>Notieren Sie ins Lernjournal:</strong></p>
            <ul>
                <li><strong>WER</strong> ist der Stakeholder?</li>
                <li><strong>WO</strong> haben Sie die Informationen √ºber den Stakeholder rausgefunden?</li>
                <li><strong>WARUM</strong> ist der Stakeholder F√úR oder GEGEN den Konsum von Fleisch?</li>
                <li><strong>Argumente</strong> (B-B-B)</li>
            </ul>

            <div class="stakeholder-list">
                <h3>üìå Folgende Stakeholder werden analysiert:</h3>
                <ul>
                    <li><a href="https://www.bio-suisse.ch/de/" target="_blank">Bio Suisse</a></li>
                    <li><a href="https://www.greenpeace.ch/de/" target="_blank">Greenpeace</a></li>
                    <li><a href="https://www.peta.de/" target="_blank">Peta</a></li>
                    <li><a href="https://www.proviande.ch/de" target="_blank">Proviande</a></li>
                    <li><a href="https://www.sge-ssn.ch/de/" target="_blank">Schweizerische Gesellschaft f√ºr Ern√§hrung</a></li>
                    <li><a href="https://www.aboutswitzerland.eda.admin.ch/de/schweizer-kueche" target="_blank">Schweizerische Restaurants</a></li>
                    <li><a href="https://vegan.ch/" target="_blank">Vegane Gesellschaft Schweiz</a></li>
                </ul>
            </div>

            <div class="portfolio-box">
                <h3>üìù Mein Lernjournal: Auftrag 1</h3>
                <p style="color: #666; margin-bottom: 15px;">
                    Dokumentieren Sie hier Ihre Recherche und Argumente:
                </p>
                <textarea 
                    id="portfolio-text" 
                    placeholder="WER ist der Stakeholder?

WO haben Sie die Informationen rausgefunden?

WARUM ist der Stakeholder F√úR oder GEGEN den Fleischkonsum?

Argumente (Behauptung - Begr√ºndung - Beleg):
1. 
2. 
3. "
                    oninput="savePortfolio()"></textarea>
                <div class="saved-indicator" id="saved-indicator">‚úì Automatisch gespeichert</div>
            </div>

            <h2>üé§ Auftrag 2: Debatte</h2>
            <p>
                In einer Debatte werden Sie nun in der Perspektive Ihres Stakeholders argumentieren, ob Menschen in der Schweiz heute noch Fleisch essen sollten.
            </p>

            <h2>üìä Auftrag 3: Reflexion der Debatte</h2>
            <p>
                Nach der Debatte: Die Stakeholder haben unterschiedliche Blickwinkel und Aspekte, die f√ºr sie im Vordergrund stehen. Die Aspekte <strong>Ethik</strong>, <strong>Gesundheit</strong>, <strong>Kultur</strong>, <strong>Nachhaltigkeit</strong>, <strong>Wirtschaft</strong> sind besonders prominent vertreten. Notieren Sie je 3 Argumente F√úR und 3 Argumente GEGEN den Konsum von Fleisch aufgrund von dem, was in der Klasse diskutiert wurde. Notieren Sie daneben in Klammern, welcher Aspekt f√ºr die Bef√ºrworter oder Gegner des Fleischkonsums wohl im Vordergrund stand.
            </p>

            <div class="portfolio-box">
                <h3>üìù Mein Lernjournal: Auftrag 3</h3>
                <p style="color: #666; margin-bottom: 15px;">
                    Dokumentieren Sie hier die Argumente aus der Debatte:
                </p>
                <textarea 
                    id="portfolio-text-3" 
                    placeholder="Argumente F√úR den Fleischkonsum:
1. [Argument] (Aspekt)
2. [Argument] (Aspekt)
3. [Argument] (Aspekt)

Argumente GEGEN den Fleischkonsum:
1. [Argument] (Aspekt)
2. [Argument] (Aspekt)
3. [Argument] (Aspekt)"
                    oninput="savePortfolio3()"></textarea>
                <div class="saved-indicator" id="saved-indicator-3">‚úì Automatisch gespeichert</div>
            </div>

            <h2>‚öñÔ∏è Auftrag 4: Spannungsfelder zwischen √ñkonomie und √ñkologie</h2>
            <p>
                Nicht nur bei der Frage um den Fleischkonsum, sondern auch in anderen Bereichen besteht ein Spannungsverh√§ltnis zwischen den Aspekten <strong>Nachhaltigkeit</strong> und <strong>Wirtschaft</strong>, also √ñkologie und √ñkonomie. Lesen Sie dazu die entsprechende Seite im Buch Gesellschaft und notieren Sie weitere Beispiele von Spannungsfeldern zwischen √ñkonomie und √ñkologie in das Lernjournal.
            </p>

            <div class="portfolio-box">
                <h3>üìù Mein Lernjournal: Auftrag 4</h3>
                <p style="color: #666; margin-bottom: 15px;">
                    Notieren Sie hier weitere Beispiele von Spannungsfeldern:
                </p>
                <textarea 
                    id="portfolio-text-4" 
                    placeholder="Beispiele f√ºr Spannungsfelder zwischen √ñkonomie und √ñkologie:

1. 

2. 

3. "
                    oninput="savePortfolio4()"></textarea>
                <div class="saved-indicator" id="saved-indicator-4">‚úì Automatisch gespeichert</div>
            </div>

            <div class="button-group">
                <button class="btn-back" onclick="returnToMain()">
                    ‚Üê Zur√ºck zur √úbersicht
                </button>
                <button class="btn-pdf" onclick="downloadCompletePDF()">
                    üìÑ Lernjournal als PDF herunterladen
                </button>
                <button class="btn-complete" onclick="completeStep()">
                    Auftrag abschlie√üen und weiter ‚Üí
                </button>
            </div>
        </div>
    </div>

    <script>
        function loadPortfolio() {
            const saved = localStorage.getItem('learningProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                const portfolioText = progress.texts && progress.texts['1'] ? progress.texts['1'] : '';
                document.getElementById('portfolio-text').value = portfolioText;
                
                const portfolioText3 = progress.texts && progress.texts['3'] ? progress.texts['3'] : '';
                document.getElementById('portfolio-text-3').value = portfolioText3;
                
                const portfolioText4 = progress.texts && progress.texts['4'] ? progress.texts['4'] : '';
                document.getElementById('portfolio-text-4').value = portfolioText4;
            }
        }

        function savePortfolio() {
            const text = document.getElementById('portfolio-text').value;
            
            let progress = {
                completedPoints: [],
                currentPoint: 1,
                texts: {}
            };
            
            const saved = localStorage.getItem('learningProgress');
            if (saved) {
                progress = JSON.parse(saved);
            }
            
            if (!progress.texts) {
                progress.texts = {};
            }
            
            progress.texts['1'] = text;
            
            localStorage.setItem('learningProgress', JSON.stringify(progress));
            
            const indicator = document.getElementById('saved-indicator');
            indicator.style.display = 'block';
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 2000);
        }

        function savePortfolio3() {
            const text = document.getElementById('portfolio-text-3').value;
            
            let progress = {
                completedPoints: [],
                currentPoint: 1,
                texts: {}
            };
            
            const saved = localStorage.getItem('learningProgress');
            if (saved) {
                progress = JSON.parse(saved);
            }
            
            if (!progress.texts) {
                progress.texts = {};
            }
            
            progress.texts['3'] = text;
            
            localStorage.setItem('learningProgress', JSON.stringify(progress));
            
            const indicator = document.getElementById('saved-indicator-3');
            indicator.style.display = 'block';
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 2000);
        }

        function savePortfolio4() {
            const text = document.getElementById('portfolio-text-4').value;
            
            let progress = {
                completedPoints: [],
                currentPoint: 1,
                texts: {}
            };
            
            const saved = localStorage.getItem('learningProgress');
            if (saved) {
                progress = JSON.parse(saved);
            }
            
            if (!progress.texts) {
                progress.texts = {};
            }
            
            progress.texts['4'] = text;
            
            localStorage.setItem('learningProgress', JSON.stringify(progress));
            
            const indicator = document.getElementById('saved-indicator-4');
            indicator.style.display = 'block';
            setTimeout(() => {
                indicator.style.display = 'none';
            }, 2000);
        }

        function downloadCompletePDF() {
            const text1 = document.getElementById('portfolio-text').value;
            const text3 = document.getElementById('portfolio-text-3').value;
            const text4 = document.getElementById('portfolio-text-4').value;
            
            if (text1.trim() === '' && text3.trim() === '' && text4.trim() === '') {
                alert('Bitte tragen Sie zuerst Ihre Notizen in mindestens einem Lernjournal ein.');
                return;
            }
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            let yPosition = 20;
            
            // Haupttitel
            doc.setFont("helvetica", "bold");
            doc.setFontSize(20);
            doc.text("Lernjournal: Rollenspiel Fleischkonsum", 20, yPosition);
            yPosition += 15;
            
            // Auftrag 1
            if (text1.trim() !== '') {
                doc.setFont("helvetica", "bold");
                doc.setFontSize(16);
                doc.text("Auftrag 1: Stakeholder-Analyse", 20, yPosition);
                yPosition += 8;
                
                doc.setFont("helvetica", "normal");
                doc.setFontSize(11);
                const lines1 = doc.splitTextToSize(text1, 170);
                doc.text(lines1, 20, yPosition);
                yPosition += (lines1.length * 6) + 12;
                
                // Neue Seite wenn n√∂tig
                if (yPosition > 250) {
                    doc.addPage();
                    yPosition = 20;
                }
            }
            
            // Auftrag 3
            if (text3.trim() !== '') {
                doc.setFont("helvetica", "bold");
                doc.setFontSize(16);
                doc.text("Auftrag 3: Reflexion der Debatte", 20, yPosition);
                yPosition += 8;
                
                doc.setFont("helvetica", "normal");
                doc.setFontSize(11);
                const lines3 = doc.splitTextToSize(text3, 170);
                doc.text(lines3, 20, yPosition);
                yPosition += (lines3.length * 6) + 12;
                
                // Neue Seite wenn n√∂tig
                if (yPosition > 250) {
                    doc.addPage();
                    yPosition = 20;
                }
            }
            
            // Auftrag 4
            if (text4.trim() !== '') {
                doc.setFont("helvetica", "bold");
                doc.setFontSize(16);
                doc.text("Auftrag 4: Spannungsfelder √ñkonomie & √ñkologie", 20, yPosition);
                yPosition += 8;
                
                doc.setFont("helvetica", "normal");
                doc.setFontSize(11);
                const lines4 = doc.splitTextToSize(text4, 170);
                doc.text(lines4, 20, yPosition);
            }
            
            doc.save('Lernjournal_Komplett.pdf');
        }

        function completeStep() {
            const portfolioText = document.getElementById('portfolio-text').value.trim();
            
            if (portfolioText === '') {
                const confirm = window.confirm('Sie haben noch nichts in Ihr Lernjournal eingetragen. M√∂chten Sie trotzdem fortfahren?');
                if (!confirm) return;
            }
            
            savePortfolio();
            
            let progress = JSON.parse(localStorage.getItem('learningProgress') || '{"completedPoints":[],"currentPoint":1,"texts":{}}');
            
            if (!progress.completedPoints.includes(1)) {
                progress.completedPoints.push(1);
                progress.currentPoint = 2;
                localStorage.setItem('learningProgress', JSON.stringify(progress));
            }
            
            alert('‚úì Auftrag 1 abgeschlossen!\n\nIhr Lernjournal-Eintrag wurde gespeichert.');
            window.location.href = 'index.html';
        }

        function returnToMain() {
            window.location.href = 'index.html';
        }

        window.addEventListener('DOMContentLoaded', () => {
            loadPortfolio();
        });
    </script>
</body>
</html>
